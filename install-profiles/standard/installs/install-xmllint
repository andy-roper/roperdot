#
# Description: Install script for xmllint
#
# Author: Andy Roper <andyroper42@gmail.com>
# URL: https://github.com/andy-roper/roperdot
#

. "${ROPERDOT_DIR}/source-scripts/nice-copy"

# Use the first procedure if in Linux or in WSL
if [[ "$ROPERDOT_OS_TYPE" = linux ]]; then
	if [[ -n "$has_sudo" && -z "$restricted_internet" ]]; then
		if command -v apt >/dev/null 2>&1; then
			sudo apt install libxml2-utils -y
		elif command -v yum >/dev/null 2>&1; then
			sudo yum -y install libxml2
		fi
	else
		echo "User lacks sudo access; aborting install of xmllint"
	fi
elif [[ "$ROPERDOT_OS_ENV" = darwin ]]; then
	if command -v brew >/dev/null 2>&1; then
		brew install libxml2
	else
		echo "Could not find brew; aborting install of xmllint"
	fi
fi
