#
# Description: Install script for FileZilla
#
# Author: Andy Roper <andyroper42@gmail.com>
# URL: https://github.com/andy-roper/roperdot
#

. "${ROPERDOT_DIR}/source-scripts/install-script-functions"

if [[ "$ROPERDOT_OS_FAMILY" = debian && "$ROPERDOT_DESKTOP_ENV" = gnome ]]; then
	sudo apt update
	sudo apt install filezilla -y
elif [[ "$ROPERDOT_DESKTOP_ENV" = windows ]]; then
	choco install -y --ignore-pending-reboot filezilla

	zip_file="${ROPERDOT_DIR}/install-profiles/personal/config-files/FileZilla.zip"
	if [[ -f "$zip_file" ]]; then
		. "${ROPERDOT_DIR}/source-scripts/unpack"
		. "${ROPERDOT_DIR}/source-scripts/win-env-functions"
		winenv APPDATA
		dest_dir="$APPDATA/FileZilla"
		mkdir -p "$dest_dir"
		cd "$dest_dir"
		unpack_overwrite "$zip_file"
	fi
fi