#
# Description: Install script for The Silver Searcher
#
# Author: Andy Roper <andyroper42@gmail.com>
# URL: https://github.com/andy-roper/roperdot
#

. "${ROPERDOT_DIR}/source-scripts/install-script-functions"
. "${ROPERDOT_DIR}/source-scripts/install-deb"
. "${ROPERDOT_DIR}/source-scripts/nice-copy"

# Use the first procedure if in Linux or in WSL
if [[ "$ROPERDOT_OS_TYPE" = "linux" ]]; then
	if [[ -n "$has_sudo" ]]; then
		if command -v apt >/dev/null 2>&1; then
			sudo apt install silversearcher-ag -y
		elif command -v yum >/dev/null 2>&1; then
			sudo yum -y install the_silver_searcher
		fi
	else
		echo "User lacks sudo access; aborting install of The Silver Searcher"
	fi
elif [[ "$ROPERDOT_OS_ENV" = "darwin" ]]; then
	if command -v brew >/dev/null 2>&1; then
		brew install the_silver_searcher
	fi
fi
