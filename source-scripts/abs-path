command -v re_match >/dev/null 2>&1 || . "${ROPERDOT_DIR}/source-scripts/re-match"
command -v realpath >/dev/null 2>&1 || . "${ROPERDOT_DIR}/source-scripts/realpath"

abs-path() {
	local str="$1"
	local re="\.\.\."
	while [[ "$str" =~ $re ]]; do
		str="${str//.../../..}"
	done
	realpath "$str" 2>/dev/null
}